<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Manage your Watch Later list on iStreamByWeb with sorting and filtering options" />
  <meta name="keywords" content="watch later, movies, series, streaming, entertainment" />
  <meta name="author" content="iStreamByWeb" />
  <title>iStreamByWeb - Watch Later</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
  <link rel="stylesheet" href="../css/watch_later.css" />
  <link rel="stylesheet" href="../css/responsive-modals.css" />
</head>

<body>
  <button class="hamburger" aria-label="Toggle sidebar" aria-expanded="false">
    <i class="fas fa-bars"></i>
  </button>

  <header class="header" aria-label="Site Header">
    <div class="logo"><i class="fas fa-clock"></i> iStreamByWeb</div>
    <div class="header-actions">
      <button class="theme-toggle tooltip" data-tooltip="Toggle Theme">
        <i class="fas fa-moon"></i>
      </button>
      <button class="help-button tooltip" data-tooltip="How to Use">
        <i class="fas fa-question-circle"></i>
      </button>
      <div class="user-profile">
        <i class="fas fa-user-circle tooltip" data-tooltip="Profile" aria-label="User Profile" aria-haspopup="true"
          aria-expanded="false"></i>
        <div class="profile-dropdown" role="menu">
          <a href="/profile" role="menuitem">Profile</a>
          <a href="../pages/settings.html" role="menuitem">Settings</a>
          <a href="../index.html" role="menuitem">Logout</a>
        </div>
      </div>
    </div>
  </header>
  <div class="sidebar">
    <div class="sidebar-item active tooltip" style="--i: 1">
      <a href="home.html">
        <div class="sidebar-icon"><i class="fas fa-home"></i></div>
        <div class="sidebar-label">Home</div>
      </a>
    </div>
    <div class="sidebar-item tooltip" style="--i: 2">
      <a href="discover.html">
        <div class="sidebar-icon"><i class="fas fa-search"></i></div>
        <div class="sidebar-label">Discover</div>
      </a>
    </div>
    <div class="sidebar-item tooltip" style="--i: 3">
      <a href="watch_later.html">
        <div class="sidebar-icon"><i class="fas fa-clock"></i></div>
        <div class="sidebar-label">Watch Later</div>
      </a>
    </div>
    <div class="sidebar-item tooltip" style="--i: 4">
      <a href="settings.html">
        <div class="sidebar-icon"><i class="fas fa-cog"></i></div>
        <div class="sidebar-label">Settings</div>
      </a>
    </div>
  </div>

  <main class="main" aria-label="Main Content Area">
    <div class="search-bar">
      <input type="text" class="search-input" placeholder="Search your Watch Later list..." id="search-input"
        aria-label="Search in Watch Later list" />
      <i class="fas fa-search" aria-hidden="true"></i>
    </div>
    <section class="watch-later-grid" id="watch-later-grid" aria-live="polite" aria-label="Watch Later Items"></section>

    <div class="loading-spinner" id="loading-spinner-watch-later" style="
          display: none;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 2rem;
          color: var(--primary-color, #007bff);
          z-index: 1010;
        ">
      <i class="fas fa-spinner fa-spin" aria-hidden="true"></i>
    </div>
    <button class="back-to-top" onclick="scrollToTop()" aria-label="Back to top">
      <i class="fas fa-chevron-up"></i>
    </button>

    <nav class="bottom-nav" aria-label="Mobile navigation">
      <a href="home.html">
        <i class="fas fa-home"></i>
        <div>Home</div>
      </a>
      <a href="discover.html">
        <i class="fas fa-search"></i>
        <div>Discover</div>
      </a>
      <a href="watch_later.html" class="active">
        <i class="fas fa-clock"></i>
        <div>Watch Later</div>
      </a>
      <a href="settings.html">
        <i class="fas fa-cog"></i>
        <div>Settings</div>
      </a>
    </nav>

    <dialog id="tutorial-modal" class="tutorial-modal modal" aria-label="How to use the Watch Later list">
      <div class="modal-content">
        <h2>Manage Your Watch Later List</h2>
        <p>How to use this page:</p>
        <ul>
          <li><strong>Search:</strong> Use the search bar to find items.</li>
          <li><strong>Actions:</strong> Click on card icons to play, view details, or remove.</li>
        </ul>
        <button onclick="closeTutorial()" aria-label="Close tutorial">Got it!</button>
      </div>
    </dialog>

    <dialog id="trailer-modal" class="trailer-modal" aria-label="Trailer player">
      <div class="trailer-modal-content">
        <button class="close" onclick="closeTrailerModal()" aria-label="Close trailer">Ã—</button>
        <iframe id="trailer-iframe" width="100%" height="450" src="" frameborder="0" allowfullscreen></iframe>
      </div>
    </dialog>

    <dialog id="details-modal" class="details-modal" aria-label="Movie or Series Details">
      <h2 id="details-title"></h2>
      <img id="details-poster" alt="Poster" />
      <p id="details-overview"></p>
      <p><strong>Rating:</strong> <span id="details-rating"></span></p>
      <p><strong>Release Date:</strong> <span id="details-release"></span></p>
      <button onclick="playTrailer()" id="trailer-button" style="display: none">
        Play Trailer
      </button>
      <button onclick="document.getElementById('details-modal').close()">
        Close
      </button>
    </dialog>
    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    <script src="/js/watch_later.js" defer></script>
</body>

</html>